#Chapter 17
#PDF Password Breaker
#Write a program that will decrypt the PDF by trying every word from the file Dictionary  

#my solution below

import PyPDF2

pdf_file = PyPDF2.PdfFileReader(open('path_to_file.pdf', 'rb'))
if pdf_file.isEncrypted == True:
    with open('path_to_dictionary.txt', 'r') as file:
        for x in file.readlines():
            m = pdf_file.decrypt(x)
            n = pdf_file.decrypt(x.lower())
            if m == 0 or n == 0:
                continue
            elif m == 1:
                print('The password is %s' %x)
            elif n == 1:
                print('The password is %s' %x.lower())
                
print('done')

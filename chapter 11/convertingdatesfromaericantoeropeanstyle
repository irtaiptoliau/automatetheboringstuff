#Chapter 11
#Converting Dates from American to European-Style
#Rename files with American-style dates to European-Style dates

#my solution below

import shutil, os, re

american_regex = re.compile(r'''^(.*?)   # Text before date
 	((0|1)?\d)-                          # month
 	((0|1|2|3)?\d)-                      # day
 	((19|20)\d\d)                        # four digit year
 	(.*?)$
 	''',re.VERBOSE)

# Looping over the current working directory for American Filenames

for american_file in os.listdir('path'):
	match1 = american_regex.search(american_file)

	# If file not found then don't break out of the loop
	if match1 == None:
                continue

	# Grouping the date format

	before_date = match1.group(1)
	month_part  = match1.group(2)
	day_part    = match1.group(4)
	year_part   = match1.group(6)
	after_part  = match1.group(8)

	# European-Style format

	european_file = before_date + day_part + '-' + month_part + '-' + year_part + after_part

	# Get the absolute path of both files

	absolute = os.path.abspath('path')
	american_file = os.path.join(absolute,american_file)
	european_file = os.path.join(absolute,european_file)

	# Renaming the file to European-Style format

	shutil.move(american_file,european_file)
